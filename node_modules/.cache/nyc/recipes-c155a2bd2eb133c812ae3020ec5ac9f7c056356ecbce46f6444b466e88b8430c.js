function cov_it8g9gt38(){var path="/home/leonardo/Projects/sd-011-cookmaster/src/services/recipes.js";var hash="8da67b1d520796499091b0ec947de535777d8e6b";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/leonardo/Projects/sd-011-cookmaster/src/services/recipes.js",statementMap:{"0":{start:{line:1,column:21},end:{line:1,column:49}},"1":{start:{line:3,column:21},end:{line:7,column:1}},"2":{start:{line:4,column:20},end:{line:4,column:90}},"3":{start:{line:6,column:2},end:{line:6,column:19}},"4":{start:{line:9,column:22},end:{line:13,column:1}},"5":{start:{line:10,column:18},end:{line:10,column:52}},"6":{start:{line:12,column:2},end:{line:12,column:17}},"7":{start:{line:15,column:22},end:{line:19,column:1}},"8":{start:{line:16,column:17},end:{line:16,column:53}},"9":{start:{line:18,column:2},end:{line:18,column:16}},"10":{start:{line:21,column:21},end:{line:32,column:1}},"11":{start:{line:22,column:37},end:{line:22,column:53}},"12":{start:{line:23,column:25},end:{line:23,column:54}},"13":{start:{line:25,column:2},end:{line:29,column:3}},"14":{start:{line:26,column:19},end:{line:26,column:68}},"15":{start:{line:28,column:4},end:{line:28,column:18}},"16":{start:{line:31,column:2},end:{line:31,column:14}},"17":{start:{line:34,column:21},end:{line:46,column:1}},"18":{start:{line:35,column:37},end:{line:35,column:53}},"19":{start:{line:37,column:25},end:{line:37,column:54}},"20":{start:{line:39,column:2},end:{line:43,column:3}},"21":{start:{line:40,column:26},end:{line:40,column:67}},"22":{start:{line:42,column:4},end:{line:42,column:25}},"23":{start:{line:45,column:2},end:{line:45,column:14}},"24":{start:{line:48,column:20},end:{line:60,column:1}},"25":{start:{line:49,column:49},end:{line:49,column:59}},"26":{start:{line:51,column:17},end:{line:51,column:46}},"27":{start:{line:53,column:2},end:{line:57,column:3}},"28":{start:{line:54,column:28},end:{line:54,column:80}},"29":{start:{line:56,column:4},end:{line:56,column:27}},"30":{start:{line:59,column:2},end:{line:59,column:14}},"31":{start:{line:62,column:0},end:{line:69,column:2}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:3,column:21},end:{line:3,column:22}},loc:{start:{line:3,column:67},end:{line:7,column:1}},line:3},"1":{name:"(anonymous_1)",decl:{start:{line:9,column:22},end:{line:9,column:23}},loc:{start:{line:9,column:34},end:{line:13,column:1}},line:9},"2":{name:"(anonymous_2)",decl:{start:{line:15,column:22},end:{line:15,column:23}},loc:{start:{line:15,column:36},end:{line:19,column:1}},line:15},"3":{name:"(anonymous_3)",decl:{start:{line:21,column:21},end:{line:21,column:22}},loc:{start:{line:21,column:49},end:{line:32,column:1}},line:21},"4":{name:"(anonymous_4)",decl:{start:{line:34,column:21},end:{line:34,column:22}},loc:{start:{line:34,column:49},end:{line:46,column:1}},line:34},"5":{name:"(anonymous_5)",decl:{start:{line:48,column:20},end:{line:48,column:21}},loc:{start:{line:48,column:42},end:{line:60,column:1}},line:48}},branchMap:{"0":{loc:{start:{line:25,column:2},end:{line:29,column:3}},type:"if",locations:[{start:{line:25,column:2},end:{line:29,column:3}},{start:{line:25,column:2},end:{line:29,column:3}}],line:25},"1":{loc:{start:{line:25,column:6},end:{line:25,column:78}},type:"binary-expr",locations:[{start:{line:25,column:6},end:{line:25,column:20}},{start:{line:25,column:25},end:{line:25,column:41}},{start:{line:25,column:45},end:{line:25,column:77}}],line:25},"2":{loc:{start:{line:39,column:2},end:{line:43,column:3}},type:"if",locations:[{start:{line:39,column:2},end:{line:43,column:3}},{start:{line:39,column:2},end:{line:43,column:3}}],line:39},"3":{loc:{start:{line:39,column:6},end:{line:39,column:78}},type:"binary-expr",locations:[{start:{line:39,column:6},end:{line:39,column:20}},{start:{line:39,column:25},end:{line:39,column:41}},{start:{line:39,column:45},end:{line:39,column:77}}],line:39},"4":{loc:{start:{line:53,column:2},end:{line:57,column:3}},type:"if",locations:[{start:{line:53,column:2},end:{line:57,column:3}},{start:{line:53,column:2},end:{line:57,column:3}}],line:53},"5":{loc:{start:{line:53,column:6},end:{line:53,column:62}},type:"binary-expr",locations:[{start:{line:53,column:6},end:{line:53,column:12}},{start:{line:53,column:17},end:{line:53,column:33}},{start:{line:53,column:37},end:{line:53,column:61}}],line:53}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{"0":[0,0],"1":[0,0,0],"2":[0,0],"3":[0,0,0],"4":[0,0],"5":[0,0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8da67b1d520796499091b0ec947de535777d8e6b"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_it8g9gt38=function(){return actualCoverage;};}return actualCoverage;}cov_it8g9gt38();const recipesModel=(cov_it8g9gt38().s[0]++,require('../models/recipes'));cov_it8g9gt38().s[1]++;const createRecipe=async(name,ingredients,preparation,id)=>{cov_it8g9gt38().f[0]++;const newRecipe=(cov_it8g9gt38().s[2]++,await recipesModel.createNewRecipe(name,ingredients,preparation,id));cov_it8g9gt38().s[3]++;return newRecipe;};cov_it8g9gt38().s[4]++;const getAllRecipes=async()=>{cov_it8g9gt38().f[1]++;const recipes=(cov_it8g9gt38().s[5]++,await recipesModel.getAllRecipes());cov_it8g9gt38().s[6]++;return recipes;};cov_it8g9gt38().s[7]++;const getRecipeById=async id=>{cov_it8g9gt38().f[2]++;const recipe=(cov_it8g9gt38().s[8]++,await recipesModel.getRecipeById(id));cov_it8g9gt38().s[9]++;return recipe;};cov_it8g9gt38().s[10]++;const updateRecipe=async recipeUpdateData=>{cov_it8g9gt38().f[3]++;const{role,userId,recipeId}=(cov_it8g9gt38().s[11]++,recipeUpdateData);const recipeToUpdate=(cov_it8g9gt38().s[12]++,await getRecipeById(recipeId));cov_it8g9gt38().s[13]++;if((cov_it8g9gt38().b[1][0]++,recipeToUpdate)&&((cov_it8g9gt38().b[1][1]++,role==='admin')||(cov_it8g9gt38().b[1][2]++,recipeToUpdate.userId===userId))){cov_it8g9gt38().b[0][0]++;const recipe=(cov_it8g9gt38().s[14]++,await recipesModel.updateRecipe(recipeUpdateData));cov_it8g9gt38().s[15]++;return recipe;}else{cov_it8g9gt38().b[0][1]++;}cov_it8g9gt38().s[16]++;return null;};cov_it8g9gt38().s[17]++;const deleteRecipe=async recipeDeleteData=>{cov_it8g9gt38().f[4]++;const{recipeId,userId,role}=(cov_it8g9gt38().s[18]++,recipeDeleteData);const recipeToDelete=(cov_it8g9gt38().s[19]++,await getRecipeById(recipeId));cov_it8g9gt38().s[20]++;if((cov_it8g9gt38().b[3][0]++,recipeToDelete)&&((cov_it8g9gt38().b[3][1]++,role==='admin')||(cov_it8g9gt38().b[3][2]++,recipeToDelete.userId===userId))){cov_it8g9gt38().b[2][0]++;const deletedRecipe=(cov_it8g9gt38().s[21]++,await recipesModel.deleteRecipe(recipeId));cov_it8g9gt38().s[22]++;return deletedRecipe;}else{cov_it8g9gt38().b[2][1]++;}cov_it8g9gt38().s[23]++;return null;};cov_it8g9gt38().s[24]++;const uploadImage=async recipeData=>{cov_it8g9gt38().f[5]++;const{recipeId,userId,role,IMAGE_PATH}=(cov_it8g9gt38().s[25]++,recipeData);const recipe=(cov_it8g9gt38().s[26]++,await getRecipeById(recipeId));cov_it8g9gt38().s[27]++;if((cov_it8g9gt38().b[5][0]++,recipe)&&((cov_it8g9gt38().b[5][1]++,role==='admin')||(cov_it8g9gt38().b[5][2]++,recipe.userId===userId))){cov_it8g9gt38().b[4][0]++;const recipeWithImage=(cov_it8g9gt38().s[28]++,await recipesModel.uploadImage(recipeId,IMAGE_PATH));cov_it8g9gt38().s[29]++;return recipeWithImage;}else{cov_it8g9gt38().b[4][1]++;}cov_it8g9gt38().s[30]++;return null;};cov_it8g9gt38().s[31]++;module.exports={createRecipe,getAllRecipes,getRecipeById,updateRecipe,deleteRecipe,uploadImage};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlY2lwZXMuanMiXSwibmFtZXMiOlsicmVjaXBlc01vZGVsIiwicmVxdWlyZSIsImNyZWF0ZVJlY2lwZSIsIm5hbWUiLCJpbmdyZWRpZW50cyIsInByZXBhcmF0aW9uIiwiaWQiLCJuZXdSZWNpcGUiLCJjcmVhdGVOZXdSZWNpcGUiLCJnZXRBbGxSZWNpcGVzIiwicmVjaXBlcyIsImdldFJlY2lwZUJ5SWQiLCJyZWNpcGUiLCJ1cGRhdGVSZWNpcGUiLCJyZWNpcGVVcGRhdGVEYXRhIiwicm9sZSIsInVzZXJJZCIsInJlY2lwZUlkIiwicmVjaXBlVG9VcGRhdGUiLCJkZWxldGVSZWNpcGUiLCJyZWNpcGVEZWxldGVEYXRhIiwicmVjaXBlVG9EZWxldGUiLCJkZWxldGVkUmVjaXBlIiwidXBsb2FkSW1hZ2UiLCJyZWNpcGVEYXRhIiwiSU1BR0VfUEFUSCIsInJlY2lwZVdpdGhJbWFnZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI2ekpBZVk7eUZBZlosS0FBTUEsQ0FBQUEsWUFBWSx5QkFBR0MsT0FBTyxDQUFDLG1CQUFELENBQVYsQ0FBbEIsQyx1QkFFQSxLQUFNQyxDQUFBQSxZQUFZLENBQUcsTUFBT0MsSUFBUCxDQUFhQyxXQUFiLENBQTBCQyxXQUExQixDQUF1Q0MsRUFBdkMsR0FBOEMsd0JBQ2pFLEtBQU1DLENBQUFBLFNBQVMseUJBQUcsS0FBTVAsQ0FBQUEsWUFBWSxDQUFDUSxlQUFiLENBQTZCTCxJQUE3QixDQUFtQ0MsV0FBbkMsQ0FBZ0RDLFdBQWhELENBQTZEQyxFQUE3RCxDQUFULENBQWYsQ0FEaUUsdUJBR2pFLE1BQU9DLENBQUFBLFNBQVAsQ0FDRCxDQUpELEMsdUJBTUEsS0FBTUUsQ0FBQUEsYUFBYSxDQUFHLFNBQVksd0JBQ2hDLEtBQU1DLENBQUFBLE9BQU8seUJBQUcsS0FBTVYsQ0FBQUEsWUFBWSxDQUFDUyxhQUFiLEVBQVQsQ0FBYixDQURnQyx1QkFHaEMsTUFBT0MsQ0FBQUEsT0FBUCxDQUNELENBSkQsQyx1QkFNQSxLQUFNQyxDQUFBQSxhQUFhLENBQUcsS0FBT0wsQ0FBQUEsRUFBUCxFQUFjLHdCQUNsQyxLQUFNTSxDQUFBQSxNQUFNLHlCQUFHLEtBQU1aLENBQUFBLFlBQVksQ0FBQ1csYUFBYixDQUEyQkwsRUFBM0IsQ0FBVCxDQUFaLENBRGtDLHVCQUdsQyxNQUFPTSxDQUFBQSxNQUFQLENBQ0QsQ0FKRCxDLHdCQU1BLEtBQU1DLENBQUFBLFlBQVksQ0FBRyxLQUFPQyxDQUFBQSxnQkFBUCxFQUE0Qix3QkFDL0MsS0FBTSxDQUFFQyxJQUFGLENBQVFDLE1BQVIsQ0FBZ0JDLFFBQWhCLDJCQUE2QkgsZ0JBQTdCLENBQU4sQ0FDQSxLQUFNSSxDQUFBQSxjQUFjLDBCQUFHLEtBQU1QLENBQUFBLGFBQWEsQ0FBQ00sUUFBRCxDQUF0QixDQUFwQixDQUYrQyx3QkFJL0MsR0FBSSwyQkFBQUMsY0FBYyxJQUFLLDJCQUFBSCxJQUFJLEdBQUssT0FBVCw4QkFBb0JHLGNBQWMsQ0FBQ0YsTUFBZixHQUEwQkEsTUFBOUMsQ0FBTCxDQUFsQixDQUE4RSwyQkFDNUUsS0FBTUosQ0FBQUEsTUFBTSwwQkFBRyxLQUFNWixDQUFBQSxZQUFZLENBQUNhLFlBQWIsQ0FBMEJDLGdCQUExQixDQUFULENBQVosQ0FENEUsd0JBRzVFLE1BQU9GLENBQUFBLE1BQVAsQ0FDRCxDQUpELGdDQUorQyx3QkFVL0MsTUFBTyxLQUFQLENBQ0QsQ0FYRCxDLHdCQWFBLEtBQU1PLENBQUFBLFlBQVksQ0FBRyxLQUFPQyxDQUFBQSxnQkFBUCxFQUE0Qix3QkFDL0MsS0FBTSxDQUFFSCxRQUFGLENBQVlELE1BQVosQ0FBb0JELElBQXBCLDJCQUE2QkssZ0JBQTdCLENBQU4sQ0FFQSxLQUFNQyxDQUFBQSxjQUFjLDBCQUFHLEtBQU1WLENBQUFBLGFBQWEsQ0FBQ00sUUFBRCxDQUF0QixDQUFwQixDQUgrQyx3QkFLL0MsR0FBSSwyQkFBQUksY0FBYyxJQUFLLDJCQUFBTixJQUFJLEdBQUssT0FBVCw4QkFBb0JNLGNBQWMsQ0FBQ0wsTUFBZixHQUEwQkEsTUFBOUMsQ0FBTCxDQUFsQixDQUE4RSwyQkFDNUUsS0FBTU0sQ0FBQUEsYUFBYSwwQkFBRyxLQUFNdEIsQ0FBQUEsWUFBWSxDQUFDbUIsWUFBYixDQUEwQkYsUUFBMUIsQ0FBVCxDQUFuQixDQUQ0RSx3QkFHNUUsTUFBT0ssQ0FBQUEsYUFBUCxDQUNELENBSkQsZ0NBTCtDLHdCQVcvQyxNQUFPLEtBQVAsQ0FDRCxDQVpELEMsd0JBY0EsS0FBTUMsQ0FBQUEsV0FBVyxDQUFHLEtBQU9DLENBQUFBLFVBQVAsRUFBc0Isd0JBQ3hDLEtBQU0sQ0FBRVAsUUFBRixDQUFZRCxNQUFaLENBQW9CRCxJQUFwQixDQUEwQlUsVUFBMUIsMkJBQXlDRCxVQUF6QyxDQUFOLENBRUEsS0FBTVosQ0FBQUEsTUFBTSwwQkFBRyxLQUFNRCxDQUFBQSxhQUFhLENBQUNNLFFBQUQsQ0FBdEIsQ0FBWixDQUh3Qyx3QkFLeEMsR0FBSSwyQkFBQUwsTUFBTSxJQUFLLDJCQUFBRyxJQUFJLEdBQUssT0FBVCw4QkFBb0JILE1BQU0sQ0FBQ0ksTUFBUCxHQUFrQkEsTUFBdEMsQ0FBTCxDQUFWLENBQThELDJCQUM1RCxLQUFNVSxDQUFBQSxlQUFlLDBCQUFHLEtBQU0xQixDQUFBQSxZQUFZLENBQUN1QixXQUFiLENBQXlCTixRQUF6QixDQUFtQ1EsVUFBbkMsQ0FBVCxDQUFyQixDQUQ0RCx3QkFHNUQsTUFBT0MsQ0FBQUEsZUFBUCxDQUNELENBSkQsZ0NBTHdDLHdCQVd4QyxNQUFPLEtBQVAsQ0FDRCxDQVpELEMsd0JBY0FDLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQixDQUNmMUIsWUFEZSxDQUVmTyxhQUZlLENBR2ZFLGFBSGUsQ0FJZkUsWUFKZSxDQUtmTSxZQUxlLENBTWZJLFdBTmUsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZWNpcGVzTW9kZWwgPSByZXF1aXJlKCcuLi9tb2RlbHMvcmVjaXBlcycpO1xuXG5jb25zdCBjcmVhdGVSZWNpcGUgPSBhc3luYyAobmFtZSwgaW5ncmVkaWVudHMsIHByZXBhcmF0aW9uLCBpZCkgPT4ge1xuICBjb25zdCBuZXdSZWNpcGUgPSBhd2FpdCByZWNpcGVzTW9kZWwuY3JlYXRlTmV3UmVjaXBlKG5hbWUsIGluZ3JlZGllbnRzLCBwcmVwYXJhdGlvbiwgaWQpO1xuXG4gIHJldHVybiBuZXdSZWNpcGU7XG59O1xuXG5jb25zdCBnZXRBbGxSZWNpcGVzID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCByZWNpcGVzID0gYXdhaXQgcmVjaXBlc01vZGVsLmdldEFsbFJlY2lwZXMoKTtcblxuICByZXR1cm4gcmVjaXBlcztcbn07XG5cbmNvbnN0IGdldFJlY2lwZUJ5SWQgPSBhc3luYyAoaWQpID0+IHtcbiAgY29uc3QgcmVjaXBlID0gYXdhaXQgcmVjaXBlc01vZGVsLmdldFJlY2lwZUJ5SWQoaWQpO1xuXG4gIHJldHVybiByZWNpcGU7XG59O1xuXG5jb25zdCB1cGRhdGVSZWNpcGUgPSBhc3luYyAocmVjaXBlVXBkYXRlRGF0YSkgPT4ge1xuICBjb25zdCB7IHJvbGUsIHVzZXJJZCwgcmVjaXBlSWQgfSA9IHJlY2lwZVVwZGF0ZURhdGE7XG4gIGNvbnN0IHJlY2lwZVRvVXBkYXRlID0gYXdhaXQgZ2V0UmVjaXBlQnlJZChyZWNpcGVJZCk7XG4gIFxuICBpZiAocmVjaXBlVG9VcGRhdGUgJiYgKHJvbGUgPT09ICdhZG1pbicgfHwgcmVjaXBlVG9VcGRhdGUudXNlcklkID09PSB1c2VySWQpKSB7XG4gICAgY29uc3QgcmVjaXBlID0gYXdhaXQgcmVjaXBlc01vZGVsLnVwZGF0ZVJlY2lwZShyZWNpcGVVcGRhdGVEYXRhKTtcbiAgXG4gICAgcmV0dXJuIHJlY2lwZTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcblxuY29uc3QgZGVsZXRlUmVjaXBlID0gYXN5bmMgKHJlY2lwZURlbGV0ZURhdGEpID0+IHtcbiAgY29uc3QgeyByZWNpcGVJZCwgdXNlcklkLCByb2xlIH0gPSByZWNpcGVEZWxldGVEYXRhO1xuXG4gIGNvbnN0IHJlY2lwZVRvRGVsZXRlID0gYXdhaXQgZ2V0UmVjaXBlQnlJZChyZWNpcGVJZCk7XG5cbiAgaWYgKHJlY2lwZVRvRGVsZXRlICYmIChyb2xlID09PSAnYWRtaW4nIHx8IHJlY2lwZVRvRGVsZXRlLnVzZXJJZCA9PT0gdXNlcklkKSkge1xuICAgIGNvbnN0IGRlbGV0ZWRSZWNpcGUgPSBhd2FpdCByZWNpcGVzTW9kZWwuZGVsZXRlUmVjaXBlKHJlY2lwZUlkKTtcblxuICAgIHJldHVybiBkZWxldGVkUmVjaXBlO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5jb25zdCB1cGxvYWRJbWFnZSA9IGFzeW5jIChyZWNpcGVEYXRhKSA9PiB7XG4gIGNvbnN0IHsgcmVjaXBlSWQsIHVzZXJJZCwgcm9sZSwgSU1BR0VfUEFUSCB9ID0gcmVjaXBlRGF0YTtcblxuICBjb25zdCByZWNpcGUgPSBhd2FpdCBnZXRSZWNpcGVCeUlkKHJlY2lwZUlkKTtcblxuICBpZiAocmVjaXBlICYmIChyb2xlID09PSAnYWRtaW4nIHx8IHJlY2lwZS51c2VySWQgPT09IHVzZXJJZCkpIHtcbiAgICBjb25zdCByZWNpcGVXaXRoSW1hZ2UgPSBhd2FpdCByZWNpcGVzTW9kZWwudXBsb2FkSW1hZ2UocmVjaXBlSWQsIElNQUdFX1BBVEgpO1xuXG4gICAgcmV0dXJuIHJlY2lwZVdpdGhJbWFnZTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7IFxuICBjcmVhdGVSZWNpcGUsXG4gIGdldEFsbFJlY2lwZXMsXG4gIGdldFJlY2lwZUJ5SWQsXG4gIHVwZGF0ZVJlY2lwZSxcbiAgZGVsZXRlUmVjaXBlLFxuICB1cGxvYWRJbWFnZSxcbn07XG4iXX0=